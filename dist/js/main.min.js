"use strict";!function(){var l=document.querySelector(".form"),e=document.querySelector(".button--order"),o=(document.querySelector(".button--reset"),document.querySelector(".popup-form")),i=document.querySelector(".popup-form__text"),t=document.querySelector(".popup-form__close");function r(e){return e.checkValidity()?!(e.nextElementSibling.textContent=""):(e.nextElementSibling.textContent=e.validationMessage,!1)}e.addEventListener("click",function(e){if(e.preventDefault(),function(e){var t=!0;r(e.elements.name)||(t=!1);r(e.elements.phone)||(t=!1);r(e.elements.comment)||(t=!1);return t}(l)){var t=new FormData;t.append("name",l.elements.name.value),t.append("phone",l.elements.phone.value),t.append("comment",l.elements.comment.value),t.append("to","and.tutin@gmail.com");var n=new XMLHttpRequest;n.responseType="json",n.open("POST","https://webdev-api.loftschool.com/sendmail"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(t),n.addEventListener("load",function(){inscroll=!0,o.style.display="flex",document.body.style.overflow="hidden",i.innerText=n.response.message,l.elements.name.value="",l.elements.phone.value="",l.elements.comment.value=""})}}),t.addEventListener("click",function(e){inscroll=!1,e.preventDefault(),o.style.display="",document.body.style.overflow=""})}(),function(){var t=document.querySelector(".hamburger"),n=document.querySelector(".mobile-menu"),e=document.querySelectorAll(".mobile-menu__link"),l=document.querySelector(".close");t.addEventListener("click",function(e){inscroll=!0,e.preventDefault(),t.style.display="none",n.style.display="flex",l.style.display="block",document.body.style.overflow="hidden",l.addEventListener("click",function(e){e.preventDefault(),n.style.display="",t.style.display="",document.body.style.overflow="initial",inscroll=!1})});for(var o=0;o<e.length;o++)e[o].addEventListener("click",function(e){t.style.display="",n.style.display="none",document.body.style.overflow="initial",inscroll=!1})}(),function(){ymaps.ready(function(){var n=new ymaps.Map("map",{center:[59.95005802,30.31781392],zoom:12,controls:["zoomControl"],behaviors:["drag"]});e.forEach(function(e){var t=new ymaps.Placemark([e.latitude,e.longitude],{hintContent:[e.hintContent],balloonContent:[e.balloonContent]},{iconLayout:"default#image",iconImageHref:"./img/icons/map-marker.svg",iconImageSize:[46,57],iconImageOffset:[-23,-57]});n.geoObjects.add(t)})});var e=[{latitude:59.89899884,longitude:30.484526,hintContent:'<div class="map__hint">Mr. Burger на Дыбенко</div>',balloonContent:"С шавермой с окраин сложно тягаться, но мы в себе уверены. Заходите: Ул. Крыленко д.31"},{latitude:59.93572476,longitude:30.32163087,hintContent:'<div class="map__hint">Mr. Burger в Центре</div>',balloonContent:"Новая достопримечательность в самом центре Северной Столицы. Ждём вас: Невский проспект д. 19"},{latitude:59.96527645,longitude:30.31072252,hintContent:'<div class="map__hint">Mr. Burger на Петроградке</div>',balloonContent:"Большие бургеры на Большом. А ещё они самые вкусные. Не проходите мимо: Большой проспект ПС д. 92"}]}(),document.querySelector(".menu-accordeon").addEventListener("click",function(e){e.preventDefault();var t=document.querySelectorAll(".menu-card"),n=e.target.closest("li");if(n)if(n.classList.contains("menu-card--active"))n.classList.remove("menu-card--active");else{var l=!0,o=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(l=(r=a.next()).done);l=!0)r.value.classList.remove("menu-card--active")}catch(e){o=!0,i=e}finally{try{l||null==a.return||a.return()}finally{if(o)throw i}}n.classList.add("menu-card--active")}}),function(){var n=document.querySelector(".popup-reviews"),l=document.querySelector(".popup-reviews__title"),o=document.querySelector(".popup-reviews__text"),e=document.querySelector(".reviews__list");document.querySelector(".popup-reviews__close").addEventListener("click",function(e){e.preventDefault(),inscroll=!1,n.style.display="none",document.body.style.overflow="initial"}),e.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest("button");t&&(inscroll=!0,n.style.display="flex",document.body.style.overflow="hidden",l.style.display="block",l.innerText=t.parentNode.firstChild.nextSibling.textContent,o.innerText=t.parentNode.firstChild.nextSibling.nextSibling.nextSibling.textContent)})}();var inscroll=!1;!function(){function n(e,t){e.eq(t).addClass("active").siblings().removeClass("active")}function o(e){if(!inscroll){inscroll=!0;var t=function(e){return"".concat(-100*e,"%")}(e);n(i,e),n($(".fixed-menu__item"),e),r.css({transform:"translateY(".concat(t,")")}),setTimeout(function(){inscroll=!1},1300)}}function l(e){var t=i.filter(".active"),n=t.next(),l=t.prev();"next"===e&&n.length&&o(n.index()),"prev"===e&&l.length&&o(l.index())}var i=$(".screen"),r=$(".page"),e=new MobileDetect(window.navigator.userAgent).mobile();$(document).on({wheel:function(e){var t=e.originalEvent.deltaY;l(0<t?"next":"prev")},keydown:function(e){var t=e.target.tagName.toLowerCase();if(!("input"===t||"textarea"===t))switch(e.keyCode){case 40:l("next");break;case 38:l("prev")}}}),$("[data-scroll-to]").on("click",function(e){e.preventDefault(),o(parseInt($(e.currentTarget).attr("data-scroll-to")))}),e&&(window.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1}),$("body").swipe({swipe:function(e,t){var n;"up"===t&&(n="next"),"down"===t&&(n="prev"),l(n)}}))}(),function(){var l=document.querySelector(".video__display"),o=document.querySelector(".video__playbtn"),i=document.querySelector(".video__controlls-play-play"),r=document.querySelector(".video__controlls-play-pause"),a=document.querySelector(".video__controlls-volume-img"),s=(document.querySelector(".video__controlls-volume"),document.querySelector(".video__controlls-circle--progress")),e=document.querySelector(".video__controlls-bar--progress"),c=document.querySelector(".video__controlls-circle--volume"),t=document.querySelector(".video__controlls-bar--volume");c.style.left="30%";var d=.3;l.volume=d,o.addEventListener("click",function(e){e.preventDefault(),l.play(),o.style.display="none",r.style.display="block",i.style.display="none"}),l.addEventListener("click",function(){l.paused?(l.play(),o.style.display="none",i.style.display="none",r.style.display="block"):(l.pause(),o.style.display="block",i.style.display="block",r.style.display="none")}),l.addEventListener("timeupdate",function(){var e=l.currentTime/l.duration;s.style.left=100*e+"%"}),i.addEventListener("click",function(e){e.preventDefault(),l.paused?(l.play(),o.style.display="none",this.style.display="none",r.style.display="block"):l.pause()}),r.addEventListener("click",function(e){e.preventDefault(),l.paused?l.play():(l.pause(),this.style.display="none",i.style.display="block",o.style.display="block")}),e.addEventListener("click",function(e){l.paused&&(o.style.display="none",r.style.display="block",i.style.display="none");var t=this.offsetWidth,n=e.offsetX;s.style.left=100*n/t+"%",l.currentTime=l.duration*n/t,l.play()}),a.addEventListener("click",function(){this.classList.contains("muted")?(this.classList.remove("muted"),l.volume=d,this.style.fill=""):(this.classList.add("muted"),l.volume=0)}),t.addEventListener("click",function(e){var t=this.offsetWidth,n=e.offsetX;c.style.left=100*n/t+"%",d=n/t,l.volume=d,a.classList.contains("muted")&&a.classList.remove("muted")})}(),function(){var e=document.querySelector(".slider__prev"),t=document.querySelector(".slider__next"),n=document.querySelector(".slider__window"),l=document.querySelector(".slider__list"),o=document.querySelectorAll(".slide"),i=window.getComputedStyle(n).width,r=!0,a=!1,s=void 0;try{for(var c,d=o[Symbol.iterator]();!(r=(c=d.next()).done);r=!0){c.value.style.width=i}}catch(e){a=!0,s=e}finally{try{r||null==d.return||d.return()}finally{if(a)throw s}}var u=(o.length-1)*parseInt(i),y=0;l.style.right=y+"px",e.addEventListener("click",function(e){e.preventDefault(),0<y?(y-=parseInt(i),l.style.right=y+"px"):(y=u,l.style.right=u+"px")}),t.addEventListener("click",function(e){e.preventDefault(),y<u?(y+=parseInt(i),l.style.right=y+"px"):(y=0,l.style.right="0px")})}(),document.querySelector(".team-accordeon").addEventListener("click",function(e){e.preventDefault();var t=document.querySelectorAll(".team-card"),n=e.target.closest("li");if(n)if(n.classList.contains("team-card--active"))n.classList.remove("team-card--active");else{var l=!0,o=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(l=(r=a.next()).done);l=!0)r.value.classList.remove("team-card--active")}catch(e){o=!0,i=e}finally{try{l||null==a.return||a.return()}finally{if(o)throw i}}n.classList.add("team-card--active")}});