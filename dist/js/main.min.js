"use strict";!function(){var o=document.querySelector(".form"),e=document.querySelector(".button--order"),l=(document.querySelector(".button--reset"),document.querySelector(".popup-form")),i=document.querySelector(".popup-form__text"),t=document.querySelector(".popup-form__close");function r(e){return e.checkValidity()?!(e.nextElementSibling.textContent=""):(e.nextElementSibling.textContent=e.validationMessage,!1)}e.addEventListener("click",function(e){if(e.preventDefault(),function(e){var t=!0;r(e.elements.name)||(t=!1);r(e.elements.phone)||(t=!1);r(e.elements.comment)||(t=!1);return t}(o)){var t=new FormData;t.append("name",o.elements.name.value),t.append("phone",o.elements.phone.value),t.append("comment",o.elements.comment.value),t.append("to","and.tutin@gmail.com");var n=new XMLHttpRequest;n.responseType="json",n.open("POST","https://webdev-api.loftschool.com/sendmail"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(t),n.addEventListener("load",function(){l.style.display="flex",document.body.style.overflow="hidden",i.innerText=n.response.message,o.elements.name.value="",o.elements.phone.value="",o.elements.comment.value=""})}}),t.addEventListener("click",function(e){e.preventDefault(),l.style.display="",document.body.style.overflow=""})}(),function(){var t=document.querySelector(".hamburger"),n=document.querySelector(".mobile-menu"),e=document.querySelectorAll(".mobile-menu__link"),o=document.querySelector(".close");t.addEventListener("click",function(e){e.preventDefault(),t.style.display="none",n.style.display="flex",o.style.display="block",document.body.style.overflow="hidden",o.addEventListener("click",function(e){e.preventDefault(),n.style.display="",t.style.display="",document.body.style.overflow="initial"})});for(var l=0;l<e.length;l++)e[l].addEventListener("click",function(e){t.style.display="",n.style.display="none",document.body.style.overflow="initial"})}(),function(){ymaps.ready(function(){var n=new ymaps.Map("map",{center:[59.95005802,30.31781392],zoom:12,controls:["zoomControl"],behaviors:["drag"]});e.forEach(function(e){var t=new ymaps.Placemark([e.latitude,e.longitude],{hintContent:[e.hintContent],balloonContent:[e.balloonContent]},{iconLayout:"default#image",iconImageHref:"./img/icons/map-marker.svg",iconImageSize:[46,57],iconImageOffset:[-23,-57]});n.geoObjects.add(t)})});var e=[{latitude:59.89899884,longitude:30.484526,hintContent:'<div class="map__hint">Mr. Burger на Дыбенко</div>',balloonContent:"С шавермой с окраин сложно тягаться, но мы в себе уверены. Заходите: Ул. Крыленко д.31"},{latitude:59.93572476,longitude:30.32163087,hintContent:'<div class="map__hint">Mr. Burger в Центре</div>',balloonContent:"Новая достопримечательность в самом центре Северной Столицы. Ждём вас: Невский проспект д. 19"},{latitude:59.96527645,longitude:30.31072252,hintContent:'<div class="map__hint">Mr. Burger на Петроградке</div>',balloonContent:"Большие бургеры на Большом. А ещё они самые вкусные. Не проходите мимо: Большой проспект ПС д. 92"}]}(),document.querySelector(".menu-accordeon").addEventListener("click",function(e){e.preventDefault();var t=document.querySelectorAll(".menu-card"),n=e.target.closest("li");if(n)if(n.classList.contains("menu-card--active"))n.classList.remove("menu-card--active");else{var o=!0,l=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done);o=!0)r.value.classList.remove("menu-card--active")}catch(e){l=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw i}}n.classList.add("menu-card--active")}}),function(){var n=document.querySelector(".popup-reviews"),o=document.querySelector(".popup-reviews__title"),l=document.querySelector(".popup-reviews__text"),e=document.querySelector(".reviews__list");document.querySelector(".popup-reviews__close").addEventListener("click",function(e){e.preventDefault(),n.style.display="none",document.body.style.overflow="initial"}),e.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest("button");t&&(n.style.display="flex",document.body.style.overflow="hidden",o.style.display="block",o.innerText=t.parentNode.firstChild.nextSibling.textContent,l.innerText=t.parentNode.firstChild.nextSibling.nextSibling.nextSibling.textContent)})}(),function(){function n(e,t){e.eq(t).addClass("active").siblings().removeClass("active")}function l(e){if(!a){a=!0;var t=function(e){return"".concat(-100*e,"%")}(e);n(i,e),n($(".fixed-menu__item"),e),r.css({transform:"translateY(".concat(t,")")}),setTimeout(function(){a=!1},1300)}}function o(e){var t=i.filter(".active"),n=t.next(),o=t.prev();"next"===e&&n.length&&l(n.index()),"prev"===e&&o.length&&l(o.index())}var i=$(".screen"),r=$(".page"),a=!1,e=new MobileDetect(window.navigator.userAgent).mobile();$(document).on({wheel:function(e){var t=e.originalEvent.deltaY;o(0<t?"next":"prev")},keydown:function(e){var t=e.target.tagName.toLowerCase();if(!("input"===t||"textarea"===t))switch(e.keyCode){case 40:o("next");break;case 38:o("prev")}}}),$("[data-scroll-to]").on("click",function(e){e.preventDefault(),l(parseInt($(e.currentTarget).attr("data-scroll-to")))}),e&&(window.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1}),$("body").swipe({swipe:function(e,t){var n;"up"===t&&(n="next"),"down"===t&&(n="prev"),o(n)}}))}(),function(){var o=document.querySelector(".video__display"),l=document.querySelector(".video__playbtn"),i=document.querySelector(".video__controlls-play-play"),r=document.querySelector(".video__controlls-play-pause"),a=document.querySelector(".video__controlls-volume-img"),s=(document.querySelector(".video__controlls-volume"),document.querySelector(".video__controlls-circle--progress")),e=document.querySelector(".video__controlls-bar--progress"),c=document.querySelector(".video__controlls-circle--volume"),t=document.querySelector(".video__controlls-bar--volume");c.style.left="30%";var d=.3;o.volume=d,l.addEventListener("click",function(e){e.preventDefault(),o.play(),l.style.display="none",r.style.display="block",i.style.display="none"}),o.addEventListener("click",function(){o.paused?(o.play(),l.style.display="none",i.style.display="none",r.style.display="block"):(o.pause(),l.style.display="block",i.style.display="block",r.style.display="none")}),o.addEventListener("timeupdate",function(){var e=o.currentTime/o.duration;s.style.left=100*e+"%"}),i.addEventListener("click",function(e){e.preventDefault(),o.paused?(o.play(),l.style.display="none",this.style.display="none",r.style.display="block"):o.pause()}),r.addEventListener("click",function(e){e.preventDefault(),o.paused?o.play():(o.pause(),this.style.display="none",i.style.display="block",l.style.display="block")}),e.addEventListener("click",function(e){o.paused&&(l.style.display="none",r.style.display="block",i.style.display="none");var t=this.offsetWidth,n=e.offsetX;s.style.left=100*n/t+"%",o.currentTime=o.duration*n/t,o.play()}),a.addEventListener("click",function(){this.classList.contains("muted")?(this.classList.remove("muted"),o.volume=d,this.style.fill=""):(this.classList.add("muted"),o.volume=0)}),t.addEventListener("click",function(e){var t=this.offsetWidth,n=e.offsetX;c.style.left=100*n/t+"%",d=n/t,o.volume=d,a.classList.contains("muted")&&a.classList.remove("muted")})}(),function(){var e=document.querySelector(".slider__prev"),t=document.querySelector(".slider__next"),n=document.querySelector(".slider__window"),o=document.querySelector(".slider__list"),l=document.querySelectorAll(".slide"),i=window.getComputedStyle(n).width,r=!0,a=!1,s=void 0;try{for(var c,d=l[Symbol.iterator]();!(r=(c=d.next()).done);r=!0){c.value.style.width=i}}catch(e){a=!0,s=e}finally{try{r||null==d.return||d.return()}finally{if(a)throw s}}var u=(l.length-1)*parseInt(i),y=0;o.style.right=y+"px",e.addEventListener("click",function(e){e.preventDefault(),0<y?(y-=parseInt(i),o.style.right=y+"px"):(y=u,o.style.right=u+"px")}),t.addEventListener("click",function(e){e.preventDefault(),y<u?(y+=parseInt(i),o.style.right=y+"px"):(y=0,o.style.right="0px")})}(),document.querySelector(".team-accordeon").addEventListener("click",function(e){e.preventDefault();var t=document.querySelectorAll(".team-card"),n=e.target.closest("li");if(n)if(n.classList.contains("team-card--active"))n.classList.remove("team-card--active");else{var o=!0,l=!1,i=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done);o=!0)r.value.classList.remove("team-card--active")}catch(e){l=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(l)throw i}}n.classList.add("team-card--active")}});